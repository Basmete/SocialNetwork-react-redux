{"version":3,"sources":["components/Users/users.module.css","hoc/withAuthRedirect.jsx","components/Navbar/Navbar.module.css","api/api.js","constants.js","components/Navbar/Navbar.jsx","components/Navbar/index.js","utils/helpers/objectHelper.js","redux/reducers/usersReducer.js","components/common/Pagination/Pagination.jsx","components/common/Pagination/helpers/getData.js","assets/images/avatar_default.svg","components/Users/User.jsx","components/Users/Users.jsx","redux/selectors/usersSelectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/reducers/authReducer.js","components/Header/HeaderContainer.jsx","components/common/FormControls/Input/Input.jsx","components/Login/Login.jsx","redux/reducers/appReducer.js","App.js","hoc/withLazyLoad.jsx","reportWebVitals.js","redux/reducers/dialogsReducer.js","redux/reducers/sidebarReducer.js","redux/reduxStore.js","index.js","components/common/FormControls/FormControls.module.css","utils/validators/index.js","assets/icons/spinner.svg","components/common/Preloader/Preloader.jsx","components/common/Pagination/Pagination.module.css","components/Header/Header.module.css","redux/reducers/profileReducer.js","components/common/FormControls/FormControl/FormControl.jsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","authReducer","withAuthRedirect","Component","connect","props","to","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followUser","id","post","unfollowUser","delete","profileAPI","getUserProfile","userId","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Navbar","className","classes","nav","item","active","activeClassName","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","totalUsersCount","isFetching","followingInProgress","followSuccess","type","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","isFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","action","follow","count","filter","Pagination","onPageChanged","totalItemsCount","portionSize","useState","portionNumber","setPortionNumber","pagesCount","Math","ceil","portionCount","leftPortionPageNumber","rightPortionNumber","pages","i","push","getPages","onClick","p","page","onPageClick","cn","styles","selectedPage","portion","User","src","photos","large","defaultAvatar","alt","userPhoto","followed","disabled","unfollow","name","Users","user","key","getUsersSelector","usersPage","getPageSizeSelector","createSelector","getTotalUsersCountSelector","getCurrentPageSelector","getIsFetchingSelector","getFollowingInProgressSelector","mapDispatchToProps","bind","totalCount","compose","React","useEffect","Preloader","pageNumber","Header","header","loginBlock","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","Input","FormControl","input","placeholder","label","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","validate","required","component","error","message","messages","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","DialogsContainer","lazy","ProfileContainer","initializeApp","promise","Promise","all","withRouter","Container","exact","path","render","fallback","Spinner","animation","Login","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","SEND_MESSAGE","dialogs","dialogsReducer","body","newMessageBody","sidebarReducer","reducers","combineReducers","profileReducer","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","basename","process","document","getElementById","value","maxLengthCreator","maxLength","spinner","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","posts","likesCount","profile","setStatus","getUserProfileThunk","newPost","newPostText","newPosts","meta","touched","children","hasError"],"mappings":"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","file":"static/js/main.e9ab93e9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2sog7\",\"selectedPage\":\"users_selectedPage__2Tt_4\"};","import React from \"react\";\nimport { Redirect } from \"react-router\";\nimport { connect } from \"react-redux\";\n\nconst mapStateToPropsForRedirect = (state) => {\n  return {\n    isAuth: state.authReducer.isAuth,\n  };\n};\n\nexport const withAuthRedirect = (Component) => {\n  const AuthRedirectComponent = (props) => {\n    if (!props.isAuth) {\n      return <Redirect to=\"/login\" />;\n    }\n    return <Component {...props} />;\n  };\n\n  return connect(mapStateToPropsForRedirect, null)(AuthRedirectComponent);\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__uMcQv\",\"item\":\"Navbar_item__3FtUf\",\"active\":\"Navbar_active__2ESXx\"};","import * as axios from \"axios\";\nimport { API_KEY } from \"../constants\";\n\nconst instance = axios.create({\n  withCredentials: true,\n  baseURL: \"https://social-network.samuraijs.com/api/1.0\",\n  headers: {\n    \"API-KEY\": API_KEY,\n  },\n});\n\nexport const getUsers = (currentPage = 1, pageSize = 10) => {\n  return instance\n    .get(`/users?page=${currentPage}&count=${pageSize}`)\n    .then((response) => response.data);\n};\n\nexport const getUserProfile = (userId) => {\n  return instance.get(`/profile/${userId}`).then((response) => response.data);\n};\n\nexport const followUser = (id) => {\n  return instance.post(`/follow/${id}`, {}).then((response) => response.data);\n};\n\nexport const unfollowUser = (id) => {\n  return instance.delete(`/follow/${id}`).then((response) => response.data);\n};\n\nexport const usersAPI = {\n  getUsers(currentPage = 1, pageSize = 10) {\n    return instance\n      .get(`/users?page=${currentPage}&count=${pageSize}`)\n      .then((response) => response.data);\n  },\n  followUser(id) {\n    return instance.post(`/follow/${id}`, {}).then((response) => response.data);\n  },\n\n  unfollowUser(id) {\n    return instance.delete(`/follow/${id}`).then((response) => response.data);\n  },\n};\n\nexport const profileAPI = {\n  getUserProfile(userId) {\n    return instance.get(`/profile/${userId}`).then((response) => response.data);\n  },\n  getStatus(userId) {\n    return instance.get(`/profile/status/${userId}`);\n  },\n  updateStatus(status) {\n    return instance.put(`/profile/status`, { status });\n  },\n};\n\nexport const authAPI = {\n  me() {\n    return instance.get(`/auth/me`);\n  },\n  login(email, password, rememberMe = false) {\n    return instance.post(`/auth/login`, { email, password, rememberMe });\n  },\n  logout() {\n    return instance.delete(`/auth/login`);\n  },\n};\n","export const BASE_URL = \"https://social-network.samuraijs.com/api/1.0\";\n\nexport const API_KEY = \"cb9ea0ad-a0e4-461a-8d93-e3177db86a10\";\n","import React from \"react\";\nimport classes from \"./Navbar.module.css\";\nimport { NavLink } from \"react-router-dom\";\n\nfunction Navbar() {\n  return (\n    <nav className={classes.nav}>\n      <div className={`${classes.item} ${classes.active}`}>\n        <NavLink activeClassName={classes.active} to=\"/profile\">\n          Profile\n        </NavLink>\n      </div>\n      <div className={classes.item}>\n        <NavLink activeClassName={classes.active} to=\"/dialogs\">\n          Messages\n        </NavLink>\n      </div>\n      <div className={classes.item}>\n        <NavLink activeClassName={classes.active} to=\"/users\">\n          Users\n        </NavLink>\n      </div>\n      <div className={classes.item}>\n        <NavLink activeClassName={classes.active} to=\"./news\">\n          News\n        </NavLink>\n      </div>\n      <div className={classes.item}>\n        <NavLink activeClassName={classes.active} to=\"./music\">\n          Music\n        </NavLink>\n      </div>\n      <div className={classes.item}>\n        <NavLink activeClassName={classes.active} to=\"./settings\">\n          Settings\n        </NavLink>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n","import Navbar from './Navbar';\r\n\r\nexport default Navbar;\r\n","export const updateObjectInArray = (\n  items,\n  itemId,\n  objPropName,\n  newObjProps\n) => {\n  return items.map((u) => {\n    if (u[objPropName] === itemId) {\n      return { ...u, ...newObjProps };\n    }\n    return u;\n  });\n};\n","import { usersAPI } from \"../../api/api\";\nimport { updateObjectInArray } from \"../../utils/helpers/objectHelper\";\n\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET_USERS\";\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\n\nconst initialState = {\n  users: [],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: true,\n  followingInProgress: false,\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.itemId, \"id\", {\n          follow: true,\n        }),\n      };\n\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.itemId, \"id\", {\n          follow: false,\n        }),\n      };\n\n    case SET_USERS:\n      return {\n        ...state,\n        users: [...action.users],\n      };\n\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.currentPage,\n      };\n\n    case SET_TOTAL_USERS_COUNT:\n      return {\n        ...state,\n        totalUsersCount: action.count,\n      };\n\n    case TOGGLE_IS_FETCHING:\n      return {\n        ...state,\n        isFetching: action.isFetching,\n      };\n\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userId]\n          : state.followingInProgress.filter((id) => id !== action.userId),\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\nexport const setUsers = (users) => ({ type: SET_USERS, users });\nexport const setCurrentPage = (currentPage) => ({\n  type: SET_CURRENT_PAGE,\n  currentPage,\n});\nexport const setTotalUsersCount = (count) => ({\n  type: SET_TOTAL_USERS_COUNT,\n  count,\n});\nexport const toggleIsFetching = (isFetching) => ({\n  type: TOGGLE_IS_FETCHING,\n  isFetching,\n});\nexport const toggleFollowingProgress = (isFollowingProgress) => ({\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\n  isFollowingProgress,\n});\n\nexport const getUsersThunkCreator = (currentPage, pageSize) => async (\n  dispatch\n) => {\n  dispatch(toggleIsFetching(true));\n  dispatch(setCurrentPage(currentPage));\n\n  const data = await usersAPI.getUsers(currentPage, pageSize);\n\n  dispatch(toggleIsFetching(false));\n  dispatch(setUsers(data.items));\n  dispatch(setTotalUsersCount(data.totalCount));\n};\n\nconst followUnfollowFlow = async (\n  dispatch,\n  userId,\n  apiMethod,\n  actionCreator\n) => {\n  dispatch(toggleFollowingProgress(true));\n  const data = await apiMethod(userId);\n  if (data.resultCode === 0) {\n    dispatch(actionCreator(userId));\n  }\n  dispatch(toggleFollowingProgress(false));\n};\n\nexport const follow = (userId) => async (dispatch) => {\n  const apiMethod = usersAPI.followUser.bind(usersAPI);\n  followUnfollowFlow(dispatch, userId, apiMethod, followSuccess);\n};\n\nexport const unfollow = (userId) => async (dispatch) => {\n  const apiMethod = usersAPI.unfollowUser.bind(usersAPI);\n  followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess);\n};\n\nexport default usersReducer;\n","import React, { useState } from \"react\";\nimport styles from \"./Pagination.module.css\";\nimport { getPages } from \"./helpers/getData\";\nimport cn from \"classnames\";\n\nfunction Pagination({\n  onPageChanged,\n  currentPage,\n  totalItemsCount,\n  pageSize,\n  portionSize = 10,\n}) {\n  const [portionNumber, setPortionNumber] = useState(1);\n\n  const [\n    pages,\n    portionCount,\n    leftPortionPageNumber,\n    rightPortionNumber,\n  ] = getPages(totalItemsCount, pageSize, portionSize, portionNumber);\n\n  const onPageClick = (page) => {\n    onPageChanged(page);\n  };\n\n  return (\n    <div className=\"pagination\">\n      {portionNumber > 1 && (\n        <button onClick={() => setPortionNumber((p) => p - 1)}>PREV</button>\n      )}\n      <div>\n        {pages\n          .filter(\n            (page) =>\n              page >= leftPortionPageNumber && page <= rightPortionNumber\n          )\n          .map((page) => (\n            <span\n              onClick={() => onPageClick(page)}\n              className={cn({\n                [styles.selectedPage]: currentPage === page,\n                [styles.page]: true,\n              })}\n            >\n              {page}\n            </span>\n          ))}\n      </div>\n      {portionCount > portionNumber && (\n        <button onClick={() => setPortionNumber((portion) => portion + 1)}>\n          NEXT\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default Pagination;\n","export const getPages = (\n  totalItemsCount,\n  pageSize,\n  portionSize,\n  portionNumber\n) => {\n  const pagesCount = Math.ceil(totalItemsCount / pageSize);\n  const portionCount = Math.ceil(pagesCount / portionSize);\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  const rightPortionNumber = portionNumber * portionSize;\n\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n  return [pages, portionCount, leftPortionPageNumber, rightPortionNumber];\n};\n","export default __webpack_public_path__ + \"static/media/avatar_default.8ad452b2.svg\";","import React from \"react\";\nimport styles from \"./users.module.css\";\nimport defaultAvatar from \"../../assets/images/avatar_default.svg\";\nimport { NavLink } from \"react-router-dom\";\n\nconst User = (props) => {\n  return (\n    <div>\n      <span>\n        <div>\n          <NavLink to={\"/profile/\" + props.id}>\n            <img\n              src={\n                props.photos.large != null ? props.photos.large : defaultAvatar\n              }\n              alt=\"123\"\n              className={styles.userPhoto}\n            />\n          </NavLink>\n        </div>\n        <div>\n          {props.followed ? (\n            <button\n              disabled={props.followingInProgress}\n              onClick={() => props.unfollow(props.id)}\n            >\n              Unfollow\n            </button>\n          ) : (\n            <button\n              disabled={props.followingInProgress}\n              onClick={() => props.follow(props.id)}\n            >\n              Follow\n            </button>\n          )}\n        </div>\n      </span>\n\n      <span>\n        <span>\n          <div>{props.name}</div>\n          <div>{props.status}</div>\n        </span>\n      </span>\n    </div>\n  );\n};\n\nexport default User;\n","import React from \"react\";\nimport Pagination from \"../common/Pagination/Pagination\";\nimport User from \"./User\";\n\nfunction Users({\n  onPageChanged,\n  currentPage,\n  users,\n  unfollow,\n  follow,\n  totalUsersCount,\n  pageSize,\n  followingInProgress,\n}) {\n  return (\n    <div>\n      <Pagination\n        totalItemsCount={totalUsersCount}\n        pageSize={pageSize}\n        onPageChanged={onPageChanged}\n        currentPage={currentPage}\n      />\n      {users.map((user) => (\n        <User\n          {...user}\n          follow={follow}\n          unfollow={unfollow}\n          followingInProgress={followingInProgress}\n          key={user.id}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default Users;\n","import { createSelector } from \"reselect\";\n\nexport const getUsersSelector = (state) => {\n  return state.usersPage.users;\n};\n\nexport const getUsersSuperSelector = createSelector(getUsersSelector, (users) =>\n  users.filter((u) => true)\n);\n\nexport const getPageSizeSelector = (state) => {\n  return state.usersPage.pageSize;\n};\n\nexport const getTotalUsersCountSelector = (state) => {\n  return state.usersPage.totalUsersCount;\n};\n\nexport const getCurrentPageSelector = (state) => {\n  return state.usersPage.currentPage;\n};\n\nexport const getIsFetchingSelector = (state) => {\n  return state.usersPage.isFetching;\n};\n\nexport const getFollowingInProgressSelector = (state) => {\n  return state.usersPage.followingInProgress;\n};\n","import { connect } from \"react-redux\";\nimport {\n  setCurrentPage,\n  toggleFollowingProgress,\n  getUsersThunkCreator,\n  follow,\n  unfollow,\n} from \"../../redux/reducers/usersReducer\";\nimport React from \"react\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\nimport { compose } from \"redux\";\nimport {\n  getCurrentPageSelector,\n  getFollowingInProgressSelector,\n  getIsFetchingSelector,\n  getPageSizeSelector,\n  getTotalUsersCountSelector,\n  getUsersSelector,\n} from \"../../redux/selectors/usersSelectors\";\n\nconst UsersContainer = (props) => {\n  React.useEffect(() => {\n    props.getUsers(props.currentPage, props.pageSize);\n  }, []);\n\n  const onPageChanged = (pageNumber) =>\n    props.getUsers(pageNumber, props.pageSize);\n  return (\n    <>\n      {props.isFetching ? <Preloader /> : null}\n      <Users\n        onPageChanged={onPageChanged}\n        totalUsersCount={props.totalUsersCount}\n        pageSize={props.pageSize}\n        currentPage={props.currentPage}\n        users={props.users}\n        unfollow={props.unfollow}\n        follow={props.follow}\n        followingInProgress={props.followingInProgress}\n      />\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    users: getUsersSelector(state),\n    pageSize: getPageSizeSelector(state),\n    totalUsersCount: getTotalUsersCountSelector(state),\n    currentPage: getCurrentPageSelector(state),\n    isFetching: getIsFetchingSelector(state),\n    followingInProgress: getFollowingInProgressSelector(state),\n  };\n};\n\nconst mapDispatchToProps = {\n  follow,\n  unfollow,\n  setCurrentPage,\n  toggleFollowingProgress,\n  getUsers: getUsersThunkCreator,\n};\n\nexport default compose(\n  //withAuthRedirect,\n  connect(mapStateToProps, mapDispatchToProps)\n)(UsersContainer);\n","import React from \"react\";\nimport styles from \"./Header.module.css\";\nimport { NavLink } from \"react-router-dom\";\n\nfunction Header(props) {\n  return (\n    <header className={styles.header}>\n      <img\n        src=\"https://i.pinimg.com/originals/2d/dc/25/2ddc25914e2ae0db5311ffa41781dda1.jpg\"\n        alt=\"123\"\n      />\n      <div className={styles.loginBlock}>\n        {props.isAuth ? (\n          <div>\n            {props.login} <button onClick={props.logout}>Logout</button>\n          </div>\n        ) : (\n          <NavLink to={\"/login\"}>Login</NavLink>\n        )}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import { authAPI } from \"../../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst SET_USER_DATA = \"/auth/SET_USER_DATA\";\n\nconst initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isAuth: false,\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\n  type: SET_USER_DATA,\n  payload: {\n    userId,\n    email,\n    login,\n    isAuth,\n  },\n});\n\nexport const getAuthUserData = () => async (dispatch) => {\n  const response = await authAPI.me();\n\n  if (response.data.resultCode === 0) {\n    const { id, email, login } = response.data.data;\n    dispatch(setAuthUserData(id, email, login, true));\n  }\n\n  return response;\n};\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n  const response = await authAPI.login(email, password, rememberMe);\n\n  if (response.data.resultCode === 0) {\n    dispatch(getAuthUserData());\n  } else {\n    const message =\n      response.data.messages.length > 0\n        ? response.data.messages[0]\n        : \"Some error\";\n    dispatch(stopSubmit(\"loginForm\", { _error: message }));\n  }\n};\n\nexport const logout = () => async (dispatch) => {\n  const response = await authAPI.logout();\n\n  if (response.data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n};\n\nexport default authReducer;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport { connect } from \"react-redux\";\nimport { logout, setAuthUserData } from \"../../redux/reducers/authReducer\";\n\nfunction HeaderContainer(props) {\n  return <Header {...props} />;\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.authReducer.isAuth,\n  login: state.authReducer.login,\n});\nconst mapDispatchToProps = {\n  setAuthUserData,\n  logout,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);\n","import React from \"react\";\n\nimport { FormControl } from \"../FormControl\";\n\nconst Input = (props) => {\n  return (\n    <FormControl {...props}>\n      <input {...props.input} placeholder={props.label} type={props.type} />\n    </FormControl>\n  );\n};\n\nexport default Input;\n","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { Input } from \"../common/FormControls/Input\";\nimport { required } from \"../../utils/validators\";\nimport { connect } from \"react-redux\";\nimport { login, logout } from \"../../redux/reducers/authReducer\";\nimport { Redirect } from \"react-router\";\nimport * as styles from \"../common/FormControls/FormControls.module.css\";\n\nconst LoginForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field\n          validate={[required]}\n          component={Input}\n          placeholder=\"Email\"\n          name=\"email\"\n        />\n      </div>\n      <div>\n        <Field\n          validate={[required]}\n          component={Input}\n          label=\"password\"\n          name=\"password\"\n          type=\"password\"\n        />\n      </div>\n      <div>\n        <Field\n          validate={[required]}\n          component={Input}\n          type=\"checkbox\"\n          name=\"rememberMe\"\n        />\n        remember me\n      </div>\n      {props.error && (\n        <div className={styles.formSummaryError}>{props.error}</div>\n      )}\n      <div>\n        <button>Login</button>\n      </div>\n    </form>\n  );\n};\n\nconst LoginReduxForm = reduxForm({\n  form: \"loginForm\",\n})(LoginForm);\n\nconst Login = (props) => {\n  const onSubmit = (formData) => {\n    const { email, password, rememberMe } = formData;\n    props.login(email, password, rememberMe);\n  };\n\n  if (props.isAuth) {\n    return <Redirect to=\"/profile\" />;\n  }\n\n  return (\n    <div>\n      <h1>Login</h1>\n      <LoginReduxForm onSubmit={onSubmit} />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.authReducer.isAuth,\n});\n\nconst mapDispatchToProps = {\n  login,\n  logout,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import { getAuthUserData } from \"./authReducer\";\n\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\n\nconst initialState = {\n  initialized: false,\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\n\nexport const initializeApp = () => (dispatch) => {\n  const promise = dispatch(getAuthUserData());\n  //const promise2 = dispatch(getAuthUserData());\n  //const promise3 = dispatch(getAuthUserData());\n\n  Promise.all([promise]).then(() => {\n    dispatch(initializedSuccess());\n  });\n};\n\nexport default appReducer;\n","import React, { Suspense } from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar\";\nimport { Route } from \"react-router-dom\";\nimport { Container, Spinner } from \"react-bootstrap\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\n\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\n\nimport { withRouter } from \"react-router\";\nimport { initializeApp } from \"./redux/reducers/appReducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport { withLazyLoad } from \"./hoc/withLazyLoad\";\n\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\n\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/Profile/ProfileContainer\")\n);\n\nconst App = (props) => {\n  React.useEffect(() => {\n    props.initializeApp();\n  }, []);\n\n  if (!props.initialized) {\n    return <Preloader />;\n  }\n\n  return (\n    <Container>\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <Route\n            exact\n            path=\"/dialogs\"\n            render={() => (\n              <Suspense fallback={<Spinner animation={\"grow\"} />}>\n                <DialogsContainer />\n              </Suspense>\n            )}\n          />\n          <Route\n            exact\n            path=\"/profile/:userId?\"\n            render={withLazyLoad(ProfileContainer)}\n          />\n          <Route exact path=\"/users\" render={() => <UsersContainer />} />\n          <Route path=\"/login\" component={Login} />\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  initialized: state.appReducer.initialized,\n});\n\nconst mapDispatchToProps = {\n  initializeApp,\n};\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, mapDispatchToProps)\n)(App);\n","import React, { Suspense } from \"react\";\nimport { Spinner } from \"react-bootstrap\";\n\nexport const withLazyLoad = (Component) => {\n  return (props) => {\n    return (\n      <Suspense fallback={<Spinner animation={\"grow\"} />}>\n        <Component {...props} />\n      </Suspense>\n    );\n  };\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const SEND_MESSAGE = \"SEND_MESSAGE\";\n\nconst initialState = {\n  messages: [\n    { id: 1, message: \"123\" },\n    { id: 2, message: \"Hi\" },\n    { id: 3, message: \"What's up?\" },\n    { id: 4, message: \"Ready for release!\" },\n  ],\n  dialogs: [\n    { id: 1, name: \"Dimas\" },\n    { id: 2, name: \"Azat\" },\n    { id: 3, name: \"Sanya\" },\n    { id: 4, name: \"Kizbek\" },\n  ],\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      const body = action.newMessageBody;\n      return {\n        ...state,\n        messages: [...state.messages, { id: action.id, message: body }],\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default dialogsReducer;\n","const initialState = {};\n\nconst sidebarReducer = (state = initialState, action) => {\n  return state;\n};\n\nexport default sidebarReducer;\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\nimport {\n  profileReducer,\n  dialogsReducer,\n  sidebarReducer,\n  usersReducer,\n  authReducer,\n  appReducer,\n} from \"../redux/reducers/reducers\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\";\n\nconst reducers = combineReducers({\n  profileReducer,\n  dialogsReducer,\n  sidebarReducer,\n  usersPage: usersReducer,\n  authReducer,\n  form: formReducer,\n  appReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(thunkMiddleware))\n);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from \"./redux/reduxStore\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename={process.env.PUBLIC_URL}>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2ZeMX\",\"error\":\"FormControls_error__2n5qG\",\"formSummaryError\":\"FormControls_formSummaryError__2c4UG\"};","export const required = (value) => {\n  if (value) {\n    return undefined;\n  }\n  return \"Field is required\";\n};\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n  if (value.length > maxLength) {\n    return `Max length is ${maxLength} symbols`;\n  }\n  return undefined;\n};\n","export default __webpack_public_path__ + \"static/media/spinner.b988d774.svg\";","import React from \"react\";\nimport spinner from \"../../../assets/icons/spinner.svg\";\n\nconst Preloader = () => {\n  return (\n    <div>\n      <img src={spinner} alt=\"\" />\n    </div>\n  );\n};\n\nexport default Preloader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Pagination_selectedPage__2lmPQ\",\"page\":\"Pagination_page__1IMDT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__CrEd5\",\"loginBlock\":\"Header_loginBlock__3uByF\"};","import { profileAPI } from \"../../api/api\";\n\nconst ADD_POST = \"ADD_POST\";\nconst DELETE_POST = \"DELETE_POST\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\nconst SET_STATUS = \"SET_STATUS\";\n\nconst initialState = {\n  posts: [\n    { id: 1, message: \"Шо по прицелу?\", likesCount: 12 },\n    { id: 2, message: \"Шо по прицелу?\", likesCount: 12 },\n    { id: 3, message: \"Шо по прицелу?\", likesCount: 12 },\n    { id: 4, message: \"Шо по прицелу?\", likesCount: 12 },\n  ],\n  profile: null,\n  status: \"\",\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST: {\n      const newPost = {\n        id: 5,\n        message: action.newPostText,\n        likesCount: 0,\n      };\n      return {\n        ...state,\n        posts: [...state.posts, newPost],\n      };\n    }\n\n    case DELETE_POST: {\n      const newPosts = [...state.posts].filter((item) => item.id !== action.id);\n      return {\n        ...state,\n        posts: newPosts,\n      };\n    }\n\n    case SET_USER_PROFILE: {\n      return {\n        ...state,\n        profile: action.profile,\n      };\n    }\n\n    case SET_STATUS: {\n      return {\n        ...state,\n        status: action.status,\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = (newPostText) => ({\n  type: ADD_POST,\n  newPostText,\n});\nexport const deletePost = (id) => ({ type: DELETE_POST, id });\nexport const setUserProfile = (profile) => ({\n  type: SET_USER_PROFILE,\n  profile,\n});\nexport const setStatus = (status) => ({\n  type: SET_STATUS,\n  status,\n});\n\nexport const getUserProfileThunk = (userId) => async (dispatch) => {\n  if (!userId) {\n    userId = 2;\n  }\n  const data = await profileAPI.getUserProfile(userId);\n\n  dispatch(setUserProfile(data));\n};\n\nexport const getStatus = (userId) => async (dispatch) => {\n  const response = await profileAPI.getStatus(userId);\n\n  dispatch(setStatus(response.data));\n};\n\nexport const updateStatus = (status) => async (dispatch) => {\n  const response = profileAPI.updateStatus(status);\n\n  if (response.data.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\n\nexport default profileReducer;\n","import React from \"react\";\n\nimport * as styles from \"../FormControls.module.css\";\n\nconst FormControl = ({ input, meta: { error, touched }, children }) => {\n  const hasError = touched && error;\n\n  return (\n    <div className={styles.formControl + \" \" + styles.error}>\n      <div>{children}</div>\n      {hasError && <span>{error}</span>}\n    </div>\n  );\n};\n\nexport default FormControl;\n"],"sourceRoot":""}